<!-- chat.html (alternating alignment, full dropzone, thinking animation, updated icons) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M∆THM∆TIΧ AI</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

</head>
<body>
  <div id="dropzone" class="fullscreen-dropzone">
    <div id="chat-container">
      <img id="logo" src="MathMatix AI Logo.png" alt="Mathmatix Logo" />
      <div id="chat-container-inner"></div>

      <!-- Thinking animation -->
      <div id="thinking-indicator" style="display: none;">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        <span class="thinking-text">Mathmatix is thinking...</span>
      </div>

      <div id="input-container">
        <textarea id="user-input" placeholder="Type your message..."></textarea>
        <button id="send-button">Send</button>

        <!-- Inline Tools -->
        <div id="tools-left">
          <button id="equation-button" title="Insert Equation">
  			<img src="equation-icon.png" alt="Insert Equation" />
			</button>

        </div>

        <div id="tools-right">
          <button id="mic-button" title="Voice Input">
            <img src="mic-icon.png" alt="Mic" />
          </button>
          <button id="file-upload" title="Upload File">
            <img src="clip-icon.png" alt="Attach" />
          </button>
          <input type="file" id="file-input" style="display: none;" />
        </div>
      </div>

      <div id="handsfree-toggle-wrapper">
        <span id="handsfree-label">Hands-Free Mode: OFF</span>
        <button id="handsfree-toggle" class="green"></button>
      </div>
    </div>

	  <div id="voice-toggle" class="toggle">AI Voice</div>
		<span id="voice-label">AI Voice: OFF</span>
	    <button id="voice-toggle" class="green"></button>
      </div>
    </div>

   <!-- MathLive Equation Editor Popup -->
	<div id="equation-popup" class="popup">
  		<div class="popup-header">
    <span>Equation Editor</span>
    <span id="close-equation-popup" class="close-button">❌</span>
  		</div>

  	<math-field id="math-editor" virtual-keyboard-mode="onfocus" smart-mode></math-field>

  	<div class="math-controls">
    <button id="insert-latex">Insert</button>
    <button id="cancel-latex">Cancel</button>
 	 </div>

 	 <div id="equation-preview" style="margin-top: 12px; text-align: center;"></div>
	</div>

  </div>
	<!-- MathLive + MathJax -->
<script src="https://unpkg.com/mathlive"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</body>
</html>
