{
  "moduleId": "contextual_differentiation",
  "course": "AP Calculus BC",
  "unit": 4,
  "title": "Contextual Applications of Differentiation",
  "weeks": "9-10",
  "estimatedDuration": 50,
  "description": "Put differentiation to work in the real world. Related rates translate physical situations into calculus equations. Motion problems connect position, velocity, and acceleration through derivatives. Linearization uses the tangent line to approximate function values. L'Hôpital's Rule resolves indeterminate limits that stumped us in Unit 1. Every topic here is an AP exam staple — related rates and motion problems appear on the FRQ section almost every year.",
  "skills": ["related-rates", "motion-problems", "linearization-differentials", "lhopitals-rule"],
  "standardsAlignment": ["CED 4.1", "CED 4.2", "CED 4.3", "CED 4.4", "CED 4.5", "CED 4.6", "CED 4.7"],
  "goals": [
    "Set up and solve related rates problems by translating physical scenarios into equations and differentiating with respect to time",
    "Analyze straight-line motion using position, velocity, and acceleration functions, distinguishing displacement from total distance",
    "Use linearization to approximate function values and understand the geometric meaning of the tangent-line approximation",
    "Apply L'Hôpital's Rule correctly to evaluate limits involving indeterminate forms 0/0 and ∞/∞"
  ],
  "instructionalStrategy": [
    "Related rates: insist on the diagram-label-equation-differentiate framework. Students who skip setup make errors.",
    "Motion: build intuition first — velocity is how fast position changes, acceleration is how fast velocity changes. Then formalize.",
    "Linearization: connect to the tangent line from Unit 2. L(x) = f(a) + f'(a)(x − a) IS the tangent line, used as an approximation.",
    "L'Hôpital: students must VERIFY the indeterminate form before applying. AP deducts for skipping this step."
  ],
  "aiFlexLevel": "medium",
  "scaffold": [
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "related-rates",
      "title": "Related Rates: Connecting Changing Quantities",
      "text": "**The Big Idea:**\n\nIn a related rates problem, two or more quantities are changing with respect to time, and those quantities are connected by an equation. We differentiate that equation with respect to t (time) to find how the rates are related.\n\n**The Framework (follow every time):**\n1. **Draw a diagram** and label ALL variables\n2. **Write the equation** connecting the variables\n3. **Differentiate both sides** with respect to t (implicit differentiation!)\n4. **Substitute** the known values and solve for the unknown rate\n5. **State the answer** with units and interpretation\n\n**Common setups:**\n• Pythagorean theorem: x² + y² = L² (ladders, shadows)\n• Volume/area formulas: V = (4/3)πr³, A = πr², V = (1/3)πr²h\n• Similar triangles: ratios stay constant as dimensions change\n• Trigonometric: tan θ = opposite/adjacent\n\n**Critical:** Never substitute numerical values for changing variables BEFORE differentiating. Substitution happens AFTER.",
      "initialPrompt": "A 10-ft ladder leans against a wall. If the bottom slides out, the top slides down. What equation connects the bottom's distance from the wall, the top's height, and the ladder's length?"
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "related-rates",
      "title": "I-Do: Related Rates",
      "examples": [
        {
          "problem": "A 10-ft ladder leans against a wall. The bottom slides away at 2 ft/s. How fast is the top sliding down when the bottom is 6 ft from the wall?",
          "solution": "**Step 1 — Diagram & variables:**\nLet x = distance from wall to bottom, y = height of top.\nx² + y² = 100 (Pythagorean theorem, ladder = 10)\n\n**Step 2 — Find y when x = 6:**\n36 + y² = 100 → y² = 64 → y = 8\n\n**Step 3 — Differentiate with respect to t:**\n2x(dx/dt) + 2y(dy/dt) = 0\n\n**Step 4 — Substitute known values:**\ndx/dt = 2, x = 6, y = 8:\n2(6)(2) + 2(8)(dy/dt) = 0\n24 + 16(dy/dt) = 0\ndy/dt = −24/16 = **−3/2 ft/s**\n\n**The top slides down at 3/2 ft/s** (negative because y is decreasing)."
        },
        {
          "problem": "The radius of a circle increases at 3 cm/s. How fast is the area increasing when r = 10 cm?",
          "solution": "**Equation:** A = πr²\n\n**Differentiate with respect to t:**\ndA/dt = 2πr(dr/dt)\n\n**Substitute:** r = 10, dr/dt = 3:\ndA/dt = 2π(10)(3) = **60π cm²/s ≈ 188.5 cm²/s**\n\n**Interpretation:** When the radius is 10 cm, the area grows at about 188.5 cm² per second."
        },
        {
          "problem": "Water pours into an inverted cone (height 10 ft, top radius 5 ft) at 2 ft³/min. How fast is the water level rising when the depth is 4 ft?",
          "solution": "**Step 1 — Relate r and h by similar triangles:**\nr/h = 5/10 = 1/2, so r = h/2\n\n**Step 2 — Volume in terms of h only:**\nV = (1/3)πr²h = (1/3)π(h/2)²h = (1/3)π(h²/4)h = πh³/12\n\n**Step 3 — Differentiate:**\ndV/dt = (πh²/4)(dh/dt)\n\nWait — let me verify: d/dh[πh³/12] = 3πh²/12 = πh²/4 ✓\n\n**Step 4 — Substitute:** dV/dt = 2, h = 4:\n2 = (π(16)/4)(dh/dt)\n2 = 4π(dh/dt)\ndh/dt = 2/(4π) = **1/(2π) ft/min ≈ 0.159 ft/min**"
        }
      ],
      "initialPrompt": "In the ladder problem, why must we differentiate BEFORE substituting x = 6 and y = 8? What would go wrong if we substituted first?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "related-rates",
      "title": "We-Do: Related Rates",
      "problems": [
        {
          "id": "cd-wp1",
          "question": "A spherical balloon's radius grows at 0.5 in/s. Find the rate of volume increase when r = 6 in. (V = (4/3)πr³)",
          "answer": "72π in³/s ≈ 226.2 in³/s",
          "hints": [
            "Differentiate V = (4/3)πr³ with respect to t: dV/dt = 4πr²(dr/dt).",
            "Substitute r = 6, dr/dt = 0.5: dV/dt = 4π(36)(0.5) = 72π in³/s."
          ]
        },
        {
          "id": "cd-wp2",
          "question": "A 13-ft ladder: the bottom is pushed toward the wall at 0.5 ft/s. How fast does the top rise when the bottom is 5 ft from the wall?",
          "answer": "5/24 ft/s",
          "hints": [
            "x² + y² = 169. When x = 5: y = √(169 − 25) = √144 = 12. dx/dt = −0.5 (moving toward wall).",
            "2x(dx/dt) + 2y(dy/dt) = 0. 2(5)(−0.5) + 2(12)(dy/dt) = 0. −5 + 24(dy/dt) = 0. dy/dt = 5/24 ft/s."
          ]
        },
        {
          "id": "cd-wp3",
          "question": "A circle's area grows at 10π cm²/s. Find dr/dt when r = 5 cm.",
          "answer": "1 cm/s",
          "hints": [
            "A = πr², so dA/dt = 2πr(dr/dt).",
            "10π = 2π(5)(dr/dt). 10π = 10π(dr/dt). dr/dt = 1 cm/s."
          ]
        }
      ],
      "initialPrompt": "For the first problem, write down V = (4/3)πr³, then differentiate both sides with respect to time t."
    },
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "motion-problems",
      "title": "Straight-Line Motion: Position, Velocity, Acceleration",
      "text": "**The Derivative Chain of Motion:**\n\nPosition → Velocity → Acceleration\ns(t) → v(t) = s'(t) → a(t) = v'(t) = s''(t)\n\n**Key Relationships:**\n• **Velocity** = rate of change of position. Positive = moving right/up, negative = moving left/down.\n• **Speed** = |v(t)| (always non-negative)\n• **Acceleration** = rate of change of velocity\n• **Particle at rest:** v(t) = 0\n• **Changes direction:** v(t) changes sign (must pass through 0)\n\n**Speeding up vs. slowing down:**\n• **Speeding up:** v(t) and a(t) have the SAME sign (both positive or both negative)\n• **Slowing down:** v(t) and a(t) have OPPOSITE signs\n\n**Displacement vs. Total Distance on [a, b]:**\n• Displacement = s(b) − s(a) (net change — can be negative)\n• Total distance = sum of |s(t)| segments between direction changes\n\n**AP loves motion problems.** They appear on FRQs nearly every year, often with tabular data.",
      "initialPrompt": "If a car has v(t) = −20 mph and a(t) = −5 mph², is the car speeding up or slowing down? Be careful — the signs are both negative."
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "motion-problems",
      "title": "I-Do: Motion Problems",
      "examples": [
        {
          "problem": "s(t) = t³ − 6t² + 9t for t ≥ 0. Find when the particle changes direction and when it is speeding up.",
          "solution": "**Velocity:** v(t) = 3t² − 12t + 9 = 3(t² − 4t + 3) = 3(t − 1)(t − 3)\nv = 0 at t = 1 and t = 3.\n\n**Acceleration:** a(t) = 6t − 12 = 6(t − 2)\na = 0 at t = 2.\n\n**Sign analysis of v(t):**\n• t < 1: v(+) → moving right\n• 1 < t < 3: v(−) → moving left\n• t > 3: v(+) → moving right\n\n**Changes direction at t = 1 and t = 3** (v changes sign).\n\n**Speeding up (v and a same sign):**\n\n| Interval | v sign | a sign | Behavior |\n|---|---|---|---|\n| 0 < t < 1 | + | − | Slowing down |\n| 1 < t < 2 | − | − | **Speeding up** |\n| 2 < t < 3 | − | + | Slowing down |\n| t > 3 | + | + | **Speeding up** |\n\n**Speeding up on (1, 2) ∪ (3, ∞).**"
        },
        {
          "problem": "s(t) = 2t³ − 9t² + 12t on [0, 3]. Find total distance traveled.",
          "solution": "**Step 1 — Find when particle changes direction:**\nv(t) = 6t² − 18t + 12 = 6(t² − 3t + 2) = 6(t − 1)(t − 2)\nv = 0 at t = 1 and t = 2.\n\n**Step 2 — Evaluate s at critical times and endpoints:**\ns(0) = 0\ns(1) = 2 − 9 + 12 = 5\ns(2) = 16 − 36 + 24 = 4\ns(3) = 54 − 81 + 36 = 9\n\n**Step 3 — Sum the absolute displacements:**\n|s(1) − s(0)| + |s(2) − s(1)| + |s(3) − s(2)|\n= |5 − 0| + |4 − 5| + |9 − 4|\n= 5 + 1 + 5\n\n**Total distance = 11**\n\n(Note: displacement = s(3) − s(0) = 9, which is less than total distance because the particle reversed twice.)"
        },
        {
          "problem": "v(t) = 3t² − 12 for t ≥ 0. When is the particle speeding up?",
          "solution": "**Find when v = 0:** 3t² = 12 → t² = 4 → t = 2 (t ≥ 0)\n\n**Acceleration:** a(t) = 6t\n\n**Sign analysis:**\n• v(t): negative for 0 < t < 2, positive for t > 2\n• a(t) = 6t: positive for all t > 0\n\n**Speeding up = same sign:**\n• 0 < t < 2: v(−), a(+) → opposite → slowing down\n• t > 2: v(+), a(+) → same → **speeding up**\n\n**The particle speeds up for t > 2.**"
        }
      ],
      "initialPrompt": "In example 2, why is total distance (11) different from displacement (9)? What physical motion explains the difference?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "motion-problems",
      "title": "We-Do: Motion Problems",
      "problems": [
        {
          "id": "cd-wp4",
          "question": "s(t) = t³ − 3t + 2 for t ≥ 0. Find v(t), a(t), and when the particle is at rest.",
          "answer": "v(t) = 3t² − 3, a(t) = 6t. Particle is at rest at t = 1.",
          "hints": [
            "v(t) = s'(t) = 3t² − 3 = 3(t² − 1) = 3(t − 1)(t + 1). Set v = 0.",
            "v = 0 at t = 1 and t = −1. Since t ≥ 0, at rest at t = 1. a(t) = v'(t) = 6t."
          ]
        },
        {
          "id": "cd-wp5",
          "question": "v(t) = 4t − t² on [0, 6]. Find displacement and total distance traveled.",
          "answer": "Displacement = 0. Total distance = 64/3.",
          "hints": [
            "v = 0: t(4 − t) = 0 → t = 0, t = 4. Antiderivative: s(t) = 2t² − t³/3 + C. Evaluate s at 0, 4, 6.",
            "s(0) = 0, s(4) = 32 − 64/3 = 32/3, s(6) = 72 − 72 = 0. Displacement = 0 − 0 = 0. Total distance = |32/3 − 0| + |0 − 32/3| = 32/3 + 32/3 = 64/3."
          ]
        },
        {
          "id": "cd-wp6",
          "question": "s(t) = sin(t) on [0, 2π]. When is the particle speeding up?",
          "answer": "Speeding up on (π/2, π) ∪ (3π/2, 2π).",
          "hints": [
            "v(t) = cos(t), a(t) = −sin(t). v = 0 at t = π/2, 3π/2. a = 0 at t = π.",
            "Speeding up = v and a same sign. On (π/2, π): v < 0, a < 0 → same sign ✓. On (3π/2, 2π): v > 0, a > 0 → same sign ✓."
          ]
        }
      ],
      "initialPrompt": "For the first problem, start by finding v(t) = s'(t). Then set v = 0 to find when the particle is at rest."
    },
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "linearization-differentials",
      "title": "Linearization, Differentials & L'Hôpital's Rule",
      "text": "**Linearization (Tangent-Line Approximation):**\n\nThe tangent line at x = a gives the best linear approximation to f near a:\n\n**L(x) = f(a) + f'(a)(x − a)**\n\nThis is the same as the tangent line equation! Use it to estimate function values without a calculator.\n\n**Differentials:**\ndy = f'(x) dx\nThe differential dy approximates the actual change Δy for small dx.\n\n**L'Hôpital's Rule — Resolving Indeterminate Limits:**\n\nIf lim[x→c] f(x)/g(x) gives 0/0 or ∞/∞, then:\nlim[x→c] f(x)/g(x) = lim[x→c] f'(x)/g'(x)\n(provided the right-side limit exists or is ±∞)\n\n**Critical requirements:**\n1. VERIFY the indeterminate form FIRST — if it's not 0/0 or ∞/∞, L'Hôpital does NOT apply\n2. Differentiate numerator and denominator SEPARATELY (this is NOT the quotient rule)\n3. You may need to apply L'Hôpital more than once\n4. Other forms (0·∞, ∞−∞, 0⁰, 1^∞, ∞⁰) must be rewritten as 0/0 or ∞/∞ first",
      "initialPrompt": "Use the tangent line to √x at x = 25 to estimate √26. Why is the tangent line a good approximation for values close to 25?"
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "linearization-differentials",
      "title": "I-Do: Linearization & L'Hôpital's Rule",
      "examples": [
        {
          "problem": "Use linearization of f(x) = √x at a = 25 to estimate √26.",
          "solution": "**Step 1 — Find f(a) and f'(a):**\nf(x) = √x = x^(1/2)\nf(25) = 5\nf'(x) = 1/(2√x)\nf'(25) = 1/(2·5) = 1/10\n\n**Step 2 — Write L(x):**\nL(x) = f(25) + f'(25)(x − 25)\nL(x) = 5 + (1/10)(x − 25)\n\n**Step 3 — Estimate:**\nL(26) = 5 + (1/10)(1) = **5.1**\n\n**Check:** √26 ≈ 5.0990. Our estimate of 5.1 has error of about 0.001 — excellent for a no-calculator approximation.\n\n**Note:** Since f is concave down (f'' = −1/(4x^(3/2)) < 0), the tangent line lies ABOVE the curve, so 5.1 is an overestimate."
        },
        {
          "problem": "Evaluate: lim[x→0] sin(x)/x.",
          "solution": "**Step 1 — Check the form:**\nDirect substitution: sin(0)/0 = 0/0 ✓ Indeterminate.\n\n**Step 2 — Apply L'Hôpital's Rule:**\nlim[x→0] sin(x)/x = lim[x→0] (d/dx[sin x])/(d/dx[x])\n= lim[x→0] cos(x)/1\n= cos(0)/1\n= **1**\n\n**Note:** This is one of the most famous limits in calculus. We proved it using L'Hôpital, but it can also be proven geometrically (the squeeze theorem approach from Unit 1)."
        },
        {
          "problem": "Evaluate: lim[x→∞] (3x² + 2x)/(5x² − 1).",
          "solution": "**Step 1 — Check the form:**\nAs x → ∞: numerator → ∞, denominator → ∞ → **∞/∞** ✓ Indeterminate.\n\n**Step 2 — Apply L'Hôpital:**\nlim[x→∞] (3x² + 2x)/(5x² − 1) = lim[x→∞] (6x + 2)/(10x)\n\n**Step 3 — Check again:** Still ∞/∞. Apply L'Hôpital a second time:\n= lim[x→∞] 6/10 = **3/5**\n\n**Alternative (often faster for rational functions):** Divide top and bottom by x²:\nlim (3 + 2/x)/(5 − 1/x²) = 3/5 as x → ∞.\n\nBoth methods give 3/5. For rational functions at infinity, dividing by the highest power is usually faster."
        }
      ],
      "initialPrompt": "In example 1, we said the linearization overestimates because f is concave down. If f were concave up, would the tangent line overestimate or underestimate?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "linearization-differentials",
      "title": "We-Do: Linearization & L'Hôpital's Rule",
      "problems": [
        {
          "id": "cd-wp7",
          "question": "Use linearization of f(x) = x³ at a = 2 to estimate (2.01)³.",
          "answer": "8.12",
          "hints": [
            "f(2) = 8, f'(x) = 3x², f'(2) = 12. L(x) = 8 + 12(x − 2).",
            "L(2.01) = 8 + 12(0.01) = 8 + 0.12 = 8.12. (Actual: 8.120601, so very accurate.)"
          ]
        },
        {
          "id": "cd-wp8",
          "question": "Evaluate: lim[x→1] (x² − 1)/(x − 1).",
          "answer": "2",
          "hints": [
            "Direct sub: (1 − 1)/(1 − 1) = 0/0 → indeterminate. Apply L'Hôpital: lim 2x/1.",
            "= 2(1)/1 = 2. (Alternatively: factor (x−1)(x+1)/(x−1) = x + 1 → 2.)"
          ]
        },
        {
          "id": "cd-wp9",
          "question": "Evaluate: lim[x→∞] x · e^(−x). (Hint: rewrite as a fraction first.)",
          "answer": "0",
          "hints": [
            "Rewrite: x · e^(−x) = x/eˣ. Form: ∞/∞ → L'Hôpital applies.",
            "lim[x→∞] x/eˣ = lim[x→∞] 1/eˣ = 0."
          ]
        }
      ],
      "initialPrompt": "For the first problem, find f(2) and f'(2) first. Then build the linearization L(x) = f(2) + f'(2)(x − 2)."
    },
    {
      "type": "independent_practice",
      "lessonPhase": "you-do",
      "title": "You-Do: Contextual Differentiation Mixed Practice",
      "problems": [
        {
          "id": "cd-yp1",
          "question": "A rectangle has length growing at 3 cm/s and width shrinking at 2 cm/s. Find the rate of area change when l = 12 cm and w = 5 cm.",
          "answer": "−9 cm²/s (area is decreasing)",
          "skill": "related-rates",
          "hints": ["A = lw. dA/dt = l(dw/dt) + w(dl/dt) = 12(−2) + 5(3) = −24 + 15 = −9 cm²/s."]
        },
        {
          "id": "cd-yp2",
          "question": "s(t) = t⁴/4 − 2t² + 4 for t ≥ 0. Find v(t) and the time(s) when the particle changes direction.",
          "answer": "v(t) = t³ − 4t = t(t − 2)(t + 2). Changes direction at t = 2.",
          "skill": "motion-problems",
          "hints": ["v(t) = t³ − 4t = t(t² − 4) = t(t − 2)(t + 2). For t ≥ 0: v = 0 at t = 0 and t = 2. Check sign change: v is negative on (0, 2) and positive on (2, ∞). Direction change at t = 2 (t = 0 is initial, not a reversal since v goes from 0 to negative)."]
        },
        {
          "id": "cd-yp3",
          "question": "Use linearization of f(x) = ∛x at a = 8 to approximate ∛(8.1).",
          "answer": "2 + 1/120 = 241/120 ≈ 2.0083",
          "skill": "linearization-differentials",
          "hints": ["f(8) = 2, f'(x) = (1/3)x^(−2/3), f'(8) = (1/3)(1/4) = 1/12. L(x) = 2 + (1/12)(x − 8). L(8.1) = 2 + (1/12)(0.1) = 2 + 1/120 ≈ 2.0083."]
        },
        {
          "id": "cd-yp4",
          "question": "Evaluate: lim[x→0] (eˣ − 1)/x.",
          "answer": "1",
          "skill": "lhopitals-rule",
          "hints": ["Direct sub: (1 − 1)/0 = 0/0. L'Hôpital: lim eˣ/1 = e⁰ = 1."]
        },
        {
          "id": "cd-yp5",
          "question": "v(t) = t² − 4t + 3 on [0, 4]. Find total distance traveled.",
          "answer": "4",
          "skill": "motion-problems",
          "hints": ["v(t) = (t − 1)(t − 3). v = 0 at t = 1, t = 3. Antiderivative: s(t) = t³/3 − 2t² + 3t. s(0) = 0, s(1) = 1/3 − 2 + 3 = 4/3, s(3) = 9 − 18 + 9 = 0, s(4) = 64/3 − 32 + 12 = 4/3. Total distance = |4/3| + |0 − 4/3| + |4/3 − 0| = 4/3 + 4/3 + 4/3 = 4."]
        },
        {
          "id": "cd-yp6",
          "question": "Evaluate: lim[x→∞] ln(x)/√x.",
          "answer": "0",
          "skill": "lhopitals-rule",
          "hints": ["Form: ∞/∞. L'Hôpital: lim (1/x)/(1/(2√x)) = lim 2√x/x = lim 2/√x = 0."]
        }
      ],
      "attemptsRequired": 3
    }
  ],
  "answerKeys": {
    "cd-wp1": "72π in³/s ≈ 226.2 in³/s.",
    "cd-wp2": "5/24 ft/s.",
    "cd-wp3": "1 cm/s.",
    "cd-wp4": "v(t) = 3t² − 3, a(t) = 6t. At rest at t = 1.",
    "cd-wp5": "Displacement = 0. Total distance = 64/3.",
    "cd-wp6": "Speeding up on (π/2, π) ∪ (3π/2, 2π).",
    "cd-wp7": "8.12.",
    "cd-wp8": "2.",
    "cd-wp9": "0.",
    "cd-yp1": "−9 cm²/s.",
    "cd-yp2": "v(t) = t³ − 4t. Changes direction at t = 2.",
    "cd-yp3": "241/120 ≈ 2.0083.",
    "cd-yp4": "1.",
    "cd-yp5": "4.",
    "cd-yp6": "0."
  }
}
