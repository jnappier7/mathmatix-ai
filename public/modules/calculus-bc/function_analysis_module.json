{
  "moduleId": "function_analysis",
  "course": "AP Calculus BC",
  "unit": 5,
  "title": "Analyzing Functions with Derivatives",
  "weeks": "11-14",
  "estimatedDuration": 50,
  "description": "This is where everything comes together. The first derivative tells us where a function increases, decreases, and has local extrema. The second derivative reveals concavity and inflection points. Combine both to sketch accurate graphs from derivative information alone. EVT guarantees absolute extrema on closed intervals; MVT connects average and instantaneous rates of change. Optimization applies all of these tools to solve real-world maximization and minimization problems. The f/f'/f'' relationship is the single most tested concept on the AP exam.",
  "skills": [
    "increasing-decreasing-extrema",
    "concavity-inflection",
    "curve-sketching",
    "evt-mvt",
    "optimization"
  ],
  "standardsAlignment": [
    "CED 5.1",
    "CED 5.2",
    "CED 5.3",
    "CED 5.4",
    "CED 5.5",
    "CED 5.6",
    "CED 5.7",
    "CED 5.8",
    "CED 5.9",
    "CED 5.10",
    "CED 5.11",
    "CED 5.12"
  ],
  "goals": [
    "Use the first derivative test to determine intervals of increase/decrease and classify local extrema",
    "Use the second derivative to determine concavity, locate inflection points, and classify extrema via the second derivative test",
    "Sketch the graph of f from information about f' and f'', connecting all three levels of analysis",
    "Apply the Extreme Value Theorem and Mean Value Theorem with proper justification",
    "Set up and solve optimization problems by reducing to a single-variable calculus problem"
  ],
  "instructionalStrategy": [
    "Build from first derivative analysis to second derivative analysis \u2014 never skip the sign chart step.",
    "The f/f'/f'' connection must be drilled from all directions: given f sketch f', given f' describe f, given f'' describe concavity of f.",
    "MVT requires JUSTIFICATION on the AP exam: state hypotheses (continuous on [a,b], differentiable on (a,b)), state the conclusion.",
    "Optimization setup is harder than the calculus. Spend time on translating word problems into equations before differentiating."
  ],
  "aiFlexLevel": "medium",
  "scaffold": [
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "increasing-decreasing-extrema",
      "title": "First & Second Derivative Analysis",
      "content": "**First Derivative Test (FDT):**\n\nThe sign of f'(x) tells us whether f is going up or down:\n\u2022 f'(x) > 0 on an interval \u2192 f is **increasing** there\n\u2022 f'(x) < 0 on an interval \u2192 f is **decreasing** there\n\n**Critical points:** where f'(x) = 0 or f'(x) does not exist (and f is defined).\n\n**Classifying critical points with FDT:**\n\u2022 f' changes from + to \u2212 \u2192 **local maximum**\n\u2022 f' changes from \u2212 to + \u2192 **local minimum**\n\u2022 f' does NOT change sign \u2192 **neither** (e.g., x\u00b3 at x = 0)\n\n**Second Derivative Test (SDT):**\n\nThe sign of f''(x) tells us the shape (concavity) of f:\n\u2022 f''(x) > 0 \u2192 **concave up** (cup shape, opens upward)\n\u2022 f''(x) < 0 \u2192 **concave down** (cap shape, opens downward)\n\u2022 **Inflection point:** where f'' changes sign (concavity switches)\n\n**SDT for extrema:** At a critical point c where f'(c) = 0:\n\u2022 f''(c) > 0 \u2192 **local minimum** (concave up = cup = catches a min)\n\u2022 f''(c) < 0 \u2192 **local maximum** (concave down = cap = holds a max)\n\u2022 f''(c) = 0 \u2192 **inconclusive** (use FDT instead)",
      "initialPrompt": "If f'(2) = 0 and f''(2) = \u22125, what can you conclude about x = 2? Is it a max, min, or neither? Which test tells you?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "concavity-inflection",
      "title": "We-Do: Concavity Inflection \u2014 Guided Practice",
      "problems": [
        {
          "question": "Practice problem for concavity inflection.",
          "hint": "Apply the concepts of concavity inflection.",
          "solution": "Step-by-step solution for concavity inflection."
        }
      ]
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "evt-mvt",
      "title": "We-Do: Evt Mvt \u2014 Guided Practice",
      "problems": [
        {
          "question": "Practice problem for evt mvt.",
          "hint": "Apply the concepts of evt mvt.",
          "solution": "Step-by-step solution for evt mvt."
        }
      ]
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "increasing-decreasing-extrema",
      "title": "I-Do: First & Second Derivative Analysis",
      "examples": [
        {
          "problem": "f(x) = x\u00b3 \u2212 3x\u00b2 \u2212 9x + 5. Find intervals of increase/decrease and local extrema using FDT.",
          "solution": "**Step 1 \u2014 Find f'(x):**\nf'(x) = 3x\u00b2 \u2212 6x \u2212 9 = 3(x\u00b2 \u2212 2x \u2212 3) = 3(x \u2212 3)(x + 1)\n\n**Step 2 \u2014 Critical points:** f' = 0 at x = \u22121 and x = 3.\n\n**Step 3 \u2014 Sign chart for f':**\n\n| Interval | Test value | f'(x) sign | f behavior |\n|---|---|---|---|\n| x < \u22121 | x = \u22122 | 3(\u22125)(\u22123) = + | Increasing |\n| \u22121 < x < 3 | x = 0 | 3(\u22123)(1) = \u2212 | Decreasing |\n| x > 3 | x = 4 | 3(1)(5) = + | Increasing |\n\n**Step 4 \u2014 Classify:**\n\u2022 At x = \u22121: f' changes + to \u2212 \u2192 **local max**\n  f(\u22121) = \u22121 \u2212 3 + 9 + 5 = **10**\n\u2022 At x = 3: f' changes \u2212 to + \u2192 **local min**\n  f(3) = 27 \u2212 27 \u2212 27 + 5 = **\u221222**\n\n**Local max: (\u22121, 10). Local min: (3, \u221222).**"
        },
        {
          "problem": "f(x) = x\u2074 \u2212 4x\u00b3 + 6. Find intervals of concavity and inflection points.",
          "solution": "**Step 1 \u2014 Find f''(x):**\nf'(x) = 4x\u00b3 \u2212 12x\u00b2\nf''(x) = 12x\u00b2 \u2212 24x = 12x(x \u2212 2)\n\n**Step 2 \u2014 f'' = 0 at x = 0 and x = 2.**\n\n**Step 3 \u2014 Sign chart for f'':**\n\n| Interval | Test value | f''(x) sign | Concavity |\n|---|---|---|---|\n| x < 0 | x = \u22121 | 12(\u22121)(\u22123) = + | Concave up |\n| 0 < x < 2 | x = 1 | 12(1)(\u22121) = \u2212 | Concave down |\n| x > 2 | x = 3 | 12(3)(1) = + | Concave up |\n\n**Step 4 \u2014 Inflection points (f'' changes sign at both):**\n\u2022 f(0) = 6 \u2192 inflection at **(0, 6)**\n\u2022 f(2) = 16 \u2212 32 + 6 = \u221210 \u2192 inflection at **(2, \u221210)**"
        },
        {
          "problem": "f(x) = x\u00b3 \u2212 6x\u00b2 + 9x + 1. Use SDT to classify critical points.",
          "solution": "**Step 1 \u2014 Critical points:**\nf'(x) = 3x\u00b2 \u2212 12x + 9 = 3(x\u00b2 \u2212 4x + 3) = 3(x \u2212 1)(x \u2212 3)\nf' = 0 at x = 1 and x = 3.\n\n**Step 2 \u2014 Second derivative:**\nf''(x) = 6x \u2212 12\n\n**Step 3 \u2014 Apply SDT:**\n\u2022 f''(1) = 6 \u2212 12 = \u22126 < 0 \u2192 **local maximum** at x = 1\n  f(1) = 1 \u2212 6 + 9 + 1 = **5**\n\u2022 f''(3) = 18 \u2212 12 = 6 > 0 \u2192 **local minimum** at x = 3\n  f(3) = 27 \u2212 54 + 27 + 1 = **1**\n\n**Local max: (1, 5). Local min: (3, 1).**\n\n**When to use FDT vs SDT:** SDT is faster when f'' is easy to compute. But if f''(c) = 0, SDT is inconclusive and you must fall back to FDT."
        }
      ],
      "initialPrompt": "In example 1, why do we test points in each interval rather than just plugging in the critical points? What does the sign between critical points tell us?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "increasing-decreasing-extrema",
      "title": "We-Do: First & Second Derivative Analysis",
      "problems": [
        {
          "id": "fa-wp1",
          "question": "f(x) = 2x\u00b3 + 3x\u00b2 \u2212 12x. Find critical points and classify using FDT.",
          "answer": "Local max at x = \u22122, f(\u22122) = 20. Local min at x = 1, f(1) = \u22127.",
          "hints": [
            "f'(x) = 6x\u00b2 + 6x \u2212 12 = 6(x\u00b2 + x \u2212 2) = 6(x + 2)(x \u2212 1). CP: x = \u22122, x = 1.",
            "Sign chart: f' > 0 for x < \u22122, f' < 0 for \u22122 < x < 1, f' > 0 for x > 1. So local max at x = \u22122: f(\u22122) = \u221216 + 12 + 24 = 20. Local min at x = 1: f(1) = 2 + 3 \u2212 12 = \u22127."
          ]
        },
        {
          "id": "fa-wp2",
          "question": "f(x) = x\u2074 \u2212 8x\u00b2 + 16. Find intervals of concavity.",
          "answer": "Concave up on (\u2212\u221e, \u22122\u221a3/3) \u222a (2\u221a3/3, \u221e). Concave down on (\u22122\u221a3/3, 2\u221a3/3).",
          "hints": [
            "f'(x) = 4x\u00b3 \u2212 16x. f''(x) = 12x\u00b2 \u2212 16. Set f'' = 0: 12x\u00b2 = 16, x\u00b2 = 4/3, x = \u00b12/\u221a3 = \u00b12\u221a3/3.",
            "f'' > 0 for |x| > 2\u221a3/3 \u2192 concave up. f'' < 0 for |x| < 2\u221a3/3 \u2192 concave down."
          ]
        },
        {
          "id": "fa-wp3",
          "question": "g(x) = xe^(\u2212x). Find and classify all critical points using SDT.",
          "answer": "Local maximum at x = 1, g(1) = 1/e.",
          "hints": [
            "Product rule: g'(x) = e^(\u2212x) + x(\u2212e^(\u2212x)) = e^(\u2212x)(1 \u2212 x). g' = 0 when x = 1.",
            "g''(x) = \u2212e^(\u2212x)(1 \u2212 x) + e^(\u2212x)(\u22121) = e^(\u2212x)(x \u2212 2). g''(1) = e^(\u22121)(\u22121) < 0 \u2192 local max at x = 1. g(1) = 1/e."
          ]
        }
      ],
      "initialPrompt": "For the first problem, find f'(x) and factor it completely. Setting each factor to zero gives the critical points."
    },
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "curve-sketching",
      "title": "Curve Sketching & the EVT/MVT Theorems",
      "content": "**Curve Sketching from Derivative Information:**\n\nOn the AP exam, you'll often be given the graph of f' (not f!) and asked to describe f.\n\n**Reading f from f':**\n\u2022 f' > 0 \u2192 f increasing\n\u2022 f' < 0 \u2192 f decreasing\n\u2022 f' = 0 and changes sign \u2192 f has local extremum\n\u2022 f' increasing \u2192 f concave up (because f'' > 0)\n\u2022 f' decreasing \u2192 f concave down (because f'' < 0)\n\u2022 f' has a local extremum \u2192 f has an inflection point\n\n**Extreme Value Theorem (EVT):**\nIf f is continuous on [a, b], then f attains an absolute maximum and an absolute minimum on [a, b].\n\n**Candidates test:** Evaluate f at critical points in (a, b) AND at the endpoints a and b. The largest value is the absolute max; the smallest is the absolute min.\n\n**Mean Value Theorem (MVT):**\nIf f is continuous on [a, b] and differentiable on (a, b), then there exists c in (a, b) such that:\nf'(c) = [f(b) \u2212 f(a)] / (b \u2212 a)\n\n**Geometric meaning:** There's a tangent line parallel to the secant line connecting (a, f(a)) and (b, f(b)).\n\n**AP requirement:** When applying MVT, you MUST state that f is continuous on [a, b] and differentiable on (a, b).",
      "initialPrompt": "If the graph of f' is a downward-opening parabola that crosses the x-axis at x = 1 and x = 5, describe the behavior of f. Where is f increasing? Decreasing? Where are the extrema?"
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "curve-sketching",
      "title": "I-Do: Curve Sketching & EVT/MVT",
      "examples": [
        {
          "problem": "Given f'(x) = (x + 2)(x \u2212 1)\u00b2, describe the graph of f.",
          "solution": "**Step 1 \u2014 Zeros of f':** x = \u22122 and x = 1.\n\n**Step 2 \u2014 Sign chart for f':**\n\n| Interval | Test value | f'(x) | f behavior |\n|---|---|---|---|\n| x < \u22122 | x = \u22123 | (\u22121)(16) = \u2212 | Decreasing |\n| \u22122 < x < 1 | x = 0 | (2)(1) = + | Increasing |\n| x > 1 | x = 2 | (4)(1) = + | Increasing |\n\n**Step 3 \u2014 Classify critical points:**\n\u2022 At x = \u22122: f' changes \u2212 to + \u2192 **local minimum**\n\u2022 At x = 1: f' does NOT change sign (+ to +) \u2192 **no extremum**\n\n**Step 4 \u2014 Concavity (from f' behavior):**\nSince f' goes from decreasing to increasing near x = 1 (f' has a local min at x = 1), **f has an inflection point at x = 1**.\n\n**Summary:** f decreases on (\u2212\u221e, \u22122), has local min at x = \u22122, increases on (\u22122, \u221e), with an inflection point at x = 1."
        },
        {
          "problem": "f(x) = x\u00b3 \u2212 x on [0, 2]. Verify MVT hypotheses and find all values of c.",
          "solution": "**Step 1 \u2014 Verify hypotheses:**\nf(x) = x\u00b3 \u2212 x is a polynomial \u2192 continuous on [0, 2] \u2713 and differentiable on (0, 2) \u2713.\n\n**Step 2 \u2014 Compute the average rate of change:**\nf(0) = 0, f(2) = 8 \u2212 2 = 6\n[f(2) \u2212 f(0)] / (2 \u2212 0) = 6/2 = 3\n\n**Step 3 \u2014 Find c where f'(c) = 3:**\nf'(x) = 3x\u00b2 \u2212 1\n3x\u00b2 \u2212 1 = 3\n3x\u00b2 = 4\nx\u00b2 = 4/3\nx = 2\u221a3/3 \u2248 1.155\n\n**Step 4 \u2014 Verify c \u2208 (0, 2):**\n2\u221a3/3 \u2248 1.155 \u2208 (0, 2) \u2713\n\n**c = 2\u221a3/3.** At this point, the tangent line has the same slope (3) as the secant line from (0, 0) to (2, 6)."
        },
        {
          "problem": "f(x) = x\u00b3 \u2212 12x + 1 on [\u22123, 4]. Find absolute maximum and minimum (EVT).",
          "solution": "**Step 1 \u2014 f is continuous on [\u22123, 4] \u2192 EVT applies.**\n\n**Step 2 \u2014 Find critical points:**\nf'(x) = 3x\u00b2 \u2212 12 = 3(x\u00b2 \u2212 4) = 3(x \u2212 2)(x + 2)\nf' = 0 at x = \u22122 and x = 2 (both in [\u22123, 4]).\n\n**Step 3 \u2014 Candidates test:**\n\n| x | f(x) | |\n|---|---|---|\n| \u22123 | (\u221227) \u2212 (\u221236) + 1 = **10** | Endpoint |\n| \u22122 | (\u22128) \u2212 (\u221224) + 1 = **17** | Critical |\n| 2 | 8 \u2212 24 + 1 = **\u221215** | Critical |\n| 4 | 64 \u2212 48 + 1 = **17** | Endpoint |\n\n**Absolute maximum = 17** at x = \u22122 and x = 4.\n**Absolute minimum = \u221215** at x = 2."
        }
      ],
      "initialPrompt": "In example 1, x = 1 is a zero of f' but f has no extremum there. What feature does f have at x = 1 instead, and how can you tell from the sign chart?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "curve-sketching",
      "title": "We-Do: Curve Sketching & EVT/MVT",
      "problems": [
        {
          "id": "fa-wp4",
          "question": "f(x) = 3x\u2074 \u2212 4x\u00b3. Find all critical points, intervals of increase/decrease, and local extrema.",
          "answer": "f'(x) = 12x\u00b2(x \u2212 1). CP: x = 0, x = 1. Decreasing on (\u2212\u221e, 1), increasing on (1, \u221e). Local min at (1, \u22121). No extremum at x = 0.",
          "hints": [
            "f'(x) = 12x\u00b3 \u2212 12x\u00b2 = 12x\u00b2(x \u2212 1). CP at x = 0, x = 1. Sign chart: f' < 0 for x < 0 (test x = \u22121: 12(1)(\u22122) = \u2212), f' < 0 for 0 < x < 1 (test x = 0.5: 12(0.25)(\u22120.5) = \u2212), f' > 0 for x > 1.",
            "At x = 0: no sign change \u2192 no extremum. At x = 1: \u2212 to + \u2192 local min. f(1) = 3 \u2212 4 = \u22121."
          ]
        },
        {
          "id": "fa-wp5",
          "question": "Verify MVT for f(x) = \u221ax on [1, 9]. Find c.",
          "answer": "c = 4",
          "hints": [
            "f continuous on [1, 9], differentiable on (1, 9). Average rate: (3 \u2212 1)/(9 \u2212 1) = 2/8 = 1/4.",
            "f'(x) = 1/(2\u221ax) = 1/4. So 2\u221ax = 4, \u221ax = 2, x = 4. c = 4 \u2208 (1, 9) \u2713."
          ]
        },
        {
          "id": "fa-wp6",
          "question": "f'(x) = (x \u2212 1)(x \u2212 5) on [0, 6]. Find where f is increasing, decreasing, concave up, and concave down. Locate all local extrema and inflection points.",
          "answer": "Increasing on (\u2212\u221e, 1) \u222a (5, \u221e). Decreasing on (1, 5). Local max at x = 1. Local min at x = 5. Concave down on (\u2212\u221e, 3). Concave up on (3, \u221e). Inflection point at x = 3.",
          "hints": [
            "f'(x) = x\u00b2 \u2212 6x + 5. Sign: positive for x < 1 and x > 5, negative for 1 < x < 5. Local max at x = 1 (+ to \u2212), local min at x = 5 (\u2212 to +).",
            "f''(x) = 2x \u2212 6 = 0 at x = 3. f'' < 0 for x < 3 (concave down), f'' > 0 for x > 3 (concave up). Inflection point at x = 3."
          ]
        }
      ],
      "initialPrompt": "For the first problem, factor f'(x) completely. Remember that a repeated factor like x\u00b2 means f' touches zero but may not change sign."
    },
    {
      "type": "explanation",
      "lessonPhase": "concept-intro",
      "skill": "optimization",
      "title": "Optimization: Maximizing and Minimizing in the Real World",
      "content": "**Optimization Framework:**\n\n1. **Read carefully.** Identify what quantity to maximize or minimize.\n2. **Draw a diagram** and label variables.\n3. **Write the objective function** \u2014 the quantity you're optimizing, in terms of your variables.\n4. **Write the constraint equation** \u2014 the relationship that limits the variables (e.g., fixed perimeter, fixed volume).\n5. **Reduce to one variable** using the constraint.\n6. **Find critical points** (set derivative = 0), check they're in the valid domain.\n7. **Verify max/min** using:\n   \u2022 Second derivative test, OR\n   \u2022 First derivative test, OR\n   \u2022 Closed interval \u2192 candidates test (endpoints + critical points)\n8. **Answer the question asked** (with units!).\n\n**Common Types:**\n\u2022 **Fencing/enclosure:** fixed perimeter, maximize area\n\u2022 **Box/container:** minimize material for fixed volume (or maximize volume for fixed material)\n\u2022 **Distance:** minimize distance from a point to a curve\n\u2022 **Revenue/profit:** maximize R(x) = x \u00b7 p(x)\n\n**The setup is harder than the calculus.** Once you have a single-variable function to optimize, the derivative work is usually straightforward.",
      "initialPrompt": "A farmer has 200 ft of fencing to make a rectangular pen along a river (no fence needed on the river side). What are the variables, what is the constraint, and what do we want to maximize?"
    },
    {
      "type": "model",
      "lessonPhase": "i-do",
      "skill": "optimization",
      "title": "I-Do: Optimization",
      "examples": [
        {
          "problem": "A farmer has 200 ft of fencing to enclose a rectangular area along a river (no fence needed along the river). Find the dimensions that maximize the area.",
          "solution": "**Setup:**\nLet x = side perpendicular to the river, y = side parallel to the river.\n\n**Constraint:** 2x + y = 200 (fencing for two widths and one length).\nSolve for y: y = 200 \u2212 2x.\n\n**Objective:** A = xy = x(200 \u2212 2x) = 200x \u2212 2x\u00b2\n\n**Domain:** x > 0 and y > 0 \u2192 x > 0 and 200 \u2212 2x > 0 \u2192 0 < x < 100.\n\n**Optimize:**\nA'(x) = 200 \u2212 4x = 0 \u2192 x = 50\ny = 200 \u2212 100 = 100\n\n**Verify:** A''(x) = \u22124 < 0 \u2192 confirmed maximum.\n\n**Maximum area = 50 \u00d7 100 = 5000 ft\u00b2.**\n\nDimensions: 50 ft \u00d7 100 ft (width \u00d7 length along river)."
        },
        {
          "problem": "Cut equal squares from the corners of a 12\" \u00d7 12\" sheet and fold up to make an open box. Find the cut size that maximizes volume.",
          "solution": "**Setup:**\nCut squares of side x from each corner. Fold up to form a box:\n\u2022 Length = 12 \u2212 2x, Width = 12 \u2212 2x, Height = x\n\n**Objective:** V = x(12 \u2212 2x)\u00b2 = x(144 \u2212 48x + 4x\u00b2) = 4x\u00b3 \u2212 48x\u00b2 + 144x\n\n**Domain:** 0 < x < 6 (so dimensions remain positive).\n\n**Optimize:**\nV'(x) = 12x\u00b2 \u2212 96x + 144 = 12(x\u00b2 \u2212 8x + 12) = 12(x \u2212 2)(x \u2212 6)\nV' = 0 at x = 2 and x = 6.\n\nSince x = 6 is the domain boundary (V = 0 there), x = 2 is our critical point.\n\n**Verify:** V''(x) = 24x \u2212 96. V''(2) = 48 \u2212 96 = \u221248 < 0 \u2192 confirmed maximum.\n\n**V(2) = 2(8)(8) = 128 in\u00b3.**\n\nCut 2-inch squares for maximum volume of 128 cubic inches."
        },
        {
          "problem": "Find two positive numbers whose sum is 30 and whose product is maximum.",
          "solution": "**Setup:**\nLet x and y be the two numbers.\nConstraint: x + y = 30 \u2192 y = 30 \u2212 x.\nObjective: P = xy = x(30 \u2212 x) = 30x \u2212 x\u00b2.\n\n**Domain:** 0 < x < 30.\n\n**Optimize:**\nP'(x) = 30 \u2212 2x = 0 \u2192 x = 15\ny = 30 \u2212 15 = 15\n\n**Verify:** P''(x) = \u22122 < 0 \u2192 confirmed maximum.\n\n**Maximum product = 15 \u00d7 15 = 225.**\n\n**Key insight:** Equal numbers give the maximum product for a fixed sum. This is a consequence of the AM-GM inequality."
        }
      ],
      "initialPrompt": "In example 1, why do we only need three sides of fencing? How does the river constraint change the problem compared to fencing all four sides?"
    },
    {
      "type": "guided_practice",
      "lessonPhase": "we-do",
      "skill": "optimization",
      "title": "We-Do: Optimization",
      "problems": [
        {
          "id": "fa-wp7",
          "question": "A box with a square base and open top must have volume 32 ft\u00b3. Find the dimensions that minimize the surface area (material used).",
          "answer": "Base: 4 ft \u00d7 4 ft, height: 2 ft. Minimum surface area = 48 ft\u00b2.",
          "hints": [
            "Let x = side of square base, h = height. V = x\u00b2h = 32, so h = 32/x\u00b2. Surface area: S = x\u00b2 + 4xh = x\u00b2 + 4x(32/x\u00b2) = x\u00b2 + 128/x.",
            "S'(x) = 2x \u2212 128/x\u00b2 = 0. Multiply by x\u00b2: 2x\u00b3 = 128, x\u00b3 = 64, x = 4. h = 32/16 = 2. S = 16 + 32 = 48 ft\u00b2. S''(4) = 2 + 256/64 = 6 > 0 \u2192 min \u2713."
          ]
        },
        {
          "id": "fa-wp8",
          "question": "Find the point on the parabola y = x\u00b2 that is closest to the point (0, 1).",
          "answer": "(\u221a2/2, 1/2) and (\u2212\u221a2/2, 1/2). Minimum distance = \u221a(3/4) = \u221a3/2.",
          "hints": [
            "Minimize D\u00b2 = x\u00b2 + (x\u00b2 \u2212 1)\u00b2 = x\u00b2 + x\u2074 \u2212 2x\u00b2 + 1 = x\u2074 \u2212 x\u00b2 + 1. Let f(x) = x\u2074 \u2212 x\u00b2 + 1.",
            "f'(x) = 4x\u00b3 \u2212 2x = 2x(2x\u00b2 \u2212 1) = 0. x = 0 or x = \u00b1\u221a(1/2) = \u00b1\u221a2/2. f(0) = 1, f(\u221a2/2) = 1/4 \u2212 1/2 + 1 = 3/4. Min D\u00b2 = 3/4 at x = \u00b1\u221a2/2, y = 1/2."
          ]
        },
        {
          "id": "fa-wp9",
          "question": "A rectangle is inscribed under the parabola y = 12 \u2212 x\u00b2 with its base on the x-axis. Find the maximum area.",
          "answer": "Maximum area = 32 (at x = 2, rectangle is 4 wide by 8 tall).",
          "hints": [
            "By symmetry, corners at (\u00b1x, 0) and (\u00b1x, 12 \u2212 x\u00b2). Width = 2x, height = 12 \u2212 x\u00b2. A = 2x(12 \u2212 x\u00b2) = 24x \u2212 2x\u00b3.",
            "A'(x) = 24 \u2212 6x\u00b2 = 0. x\u00b2 = 4, x = 2. A(2) = 2(2)(12 \u2212 4) = 4(8) = 32. A''(x) = \u221212x, A''(2) = \u221224 < 0 \u2192 max \u2713."
          ]
        }
      ],
      "initialPrompt": "For the first problem, write the volume constraint x\u00b2h = 32 and use it to eliminate h from the surface area formula."
    },
    {
      "type": "independent_practice",
      "lessonPhase": "you-do",
      "title": "You-Do: Function Analysis Mixed Practice",
      "problems": [
        {
          "id": "fa-yp1",
          "question": "f(x) = x\u00b3 \u2212 12x + 2. Find local extrema using FDT.",
          "answer": "Local max at (\u22122, 18). Local min at (2, \u221214).",
          "skill": "increasing-decreasing-extrema",
          "hints": [
            "f'(x) = 3x\u00b2 \u2212 12 = 3(x \u2212 2)(x + 2). CP: x = \u22122, x = 2. f' > 0 for x < \u22122, f' < 0 for \u22122 < x < 2, f' > 0 for x > 2. Local max at x = \u22122: f(\u22122) = \u22128 + 24 + 2 = 18. Local min at x = 2: f(2) = 8 \u2212 24 + 2 = \u221214."
          ]
        },
        {
          "id": "fa-yp2",
          "question": "f(x) = x\u2074 \u2212 4x\u00b3. Find all inflection points.",
          "answer": "Inflection points at (0, 0) and (2, \u221216).",
          "skill": "concavity-inflection",
          "hints": [
            "f'(x) = 4x\u00b3 \u2212 12x\u00b2. f''(x) = 12x\u00b2 \u2212 24x = 12x(x \u2212 2). f'' = 0 at x = 0, x = 2. f'' changes sign at both \u2192 IP. f(0) = 0, f(2) = 16 \u2212 32 = \u221216."
          ]
        },
        {
          "id": "fa-yp3",
          "question": "Verify MVT for f(x) = x\u00b2 + 2x on [1, 3] and find c.",
          "answer": "c = 2",
          "skill": "evt-mvt",
          "hints": [
            "f continuous and differentiable (polynomial). f(1) = 3, f(3) = 15. Average rate = (15 \u2212 3)/(3 \u2212 1) = 6. f'(x) = 2x + 2 = 6 \u2192 x = 2. c = 2 \u2208 (1, 3) \u2713."
          ]
        },
        {
          "id": "fa-yp4",
          "question": "f(x) = 2x\u00b3 \u2212 3x\u00b2 \u2212 36x + 10 on [\u22123, 5]. Find absolute maximum and minimum.",
          "answer": "Absolute max = 54 at x = \u22122. Absolute min = \u221271 at x = 3.",
          "skill": "evt-mvt",
          "hints": [
            "f'(x) = 6x\u00b2 \u2212 6x \u2212 36 = 6(x \u2212 3)(x + 2). CP: x = \u22122, x = 3. f(\u22123) = 37, f(\u22122) = 54, f(3) = \u221271, f(5) = 5. Max = 54, min = \u221271."
          ]
        },
        {
          "id": "fa-yp5",
          "question": "Given f'(x) = x\u00b2(x \u2212 4). Find where f has a local max, local min, and inflection points.",
          "answer": "No local max. Local min at x = 4. Inflection points at x = 0 and x = 8/3.",
          "skill": "curve-sketching",
          "hints": [
            "f' = 0 at x = 0 and x = 4. Sign: f' < 0 for x < 0, f' < 0 for 0 < x < 4, f' > 0 for x > 4. No sign change at x = 0 (no extremum). \u2212 to + at x = 4 \u2192 local min. f''(x) = 3x\u00b2 \u2212 8x = x(3x \u2212 8). f'' = 0 at x = 0, x = 8/3. Both are sign changes \u2192 inflection points."
          ]
        },
        {
          "id": "fa-yp6",
          "question": "A rectangle has perimeter 40. Find the dimensions that maximize the area.",
          "answer": "10 \u00d7 10 (square). Maximum area = 100.",
          "skill": "optimization",
          "hints": [
            "2l + 2w = 40 \u2192 w = 20 \u2212 l. A = l(20 \u2212 l) = 20l \u2212 l\u00b2. A' = 20 \u2212 2l = 0 \u2192 l = 10. w = 10. A = 100. A'' = \u22122 < 0 \u2192 max."
          ]
        }
      ],
      "attemptsRequired": 3,
      "skill": "increasing-decreasing-extrema"
    }
  ],
  "answerKeys": {
    "fa-wp1": "Local max at (\u22122, 20). Local min at (1, \u22127).",
    "fa-wp2": "CU on (\u2212\u221e, \u22122\u221a3/3) \u222a (2\u221a3/3, \u221e). CD on (\u22122\u221a3/3, 2\u221a3/3).",
    "fa-wp3": "Local max at (1, 1/e).",
    "fa-wp4": "Decreasing on (\u2212\u221e, 1). Increasing on (1, \u221e). Local min at (1, \u22121). No extremum at x = 0.",
    "fa-wp5": "c = 4.",
    "fa-wp6": "Increasing on (\u2212\u221e, 1) \u222a (5, \u221e). Decreasing on (1, 5). Local max at x = 1, local min at x = 5. IP at x = 3.",
    "fa-wp7": "4 \u00d7 4 \u00d7 2. Surface area = 48 ft\u00b2.",
    "fa-wp8": "(\u00b1\u221a2/2, 1/2). Distance = \u221a3/2.",
    "fa-wp9": "32 (rectangle 4 \u00d7 8).",
    "fa-yp1": "Local max (\u22122, 18). Local min (2, \u221214).",
    "fa-yp2": "(0, 0) and (2, \u221216).",
    "fa-yp3": "c = 2.",
    "fa-yp4": "Max = 54 at x = \u22122. Min = \u221271 at x = 3.",
    "fa-yp5": "No local max. Local min at x = 4. IP at x = 0 and x = 8/3.",
    "fa-yp6": "10 \u00d7 10, area = 100."
  }
}
