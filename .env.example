# ============================================
# MATHMATIX AI - LOCAL DEVELOPMENT ENVIRONMENT
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to git (it's in .gitignore)

# --- DATABASE ---
MONGO_URI=mongodb://localhost:27017/mathmatix_dev
# OR use MongoDB Atlas for cloud:
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/mathmatix_dev

# --- SESSION SECRET ---
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your_session_secret_here_generate_a_random_string

# --- GOOGLE OAUTH (Optional for local dev) ---
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# --- MICROSOFT OAUTH (Optional for local dev) ---
# Get from: https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret
MICROSOFT_CALLBACK_URL=http://localhost:3000/auth/microsoft/callback

# --- AI SERVICES ---
# REQUIRED: Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_key_here

# REQUIRED: Anthropic (Claude) API Keys
# Get from: https://console.anthropic.com
# PRODUCTION KEY: For live user interactions (set higher spending limit)
ANTHROPIC_API_KEY_PROD=sk-ant-api03-your_production_key_here
# DEVELOPMENT KEY: For testing & Claude Code CLI (set lower spending limit)
ANTHROPIC_API_KEY_DEV=sk-ant-api03-your_development_key_here

# Which Anthropic key to use (based on NODE_ENV)
# In production: Uses ANTHROPIC_API_KEY_PROD
# In development: Uses ANTHROPIC_API_KEY_DEV
# Legacy fallback: ANTHROPIC_API_KEY (deprecated - migrate to environment-specific keys)
ANTHROPIC_API_KEY=sk-ant-api03-your_legacy_key_here

# --- VOICE (ElevenLabs) ---
# Get from: https://elevenlabs.io/
ELEVENLABS_API_KEY=your_elevenlabs_key

# --- MATH OCR (Mathpix) ---
# Get from: https://accounts.mathpix.com/
MATHPIX_APP_ID=your_mathpix_app_id
MATHPIX_APP_KEY=your_mathpix_app_key

# --- SERVER CONFIGURATION ---
PORT=3000
NODE_ENV=development

# --- EMAIL SERVICE (Optional - for parent reports & notifications) ---
# Uncomment and configure to enable email features:
# - Weekly parent progress reports
# - Parental consent emails
# - Account notifications
#
# OPTION 1: Gmail (easiest for testing)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password  # Generate at: https://myaccount.google.com/apppasswords
# BASE_URL=http://localhost:3000
#
# OPTION 2: SendGrid (production recommended - 100 emails/day free)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=your_sendgrid_api_key  # Get at: https://app.sendgrid.com/settings/api_keys
# BASE_URL=https://mathmatix.ai
#
# OPTION 3: AWS SES (cheapest at scale - $0.10/1000 emails)
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=your_ses_smtp_username
# SMTP_PASS=your_ses_smtp_password
# BASE_URL=https://mathmatix.ai

# ============================================
# QUICK START FOR LOCAL DEV (Minimal Config)
# ============================================
# To get started quickly, you only NEED:
# 1. MONGO_URI (local MongoDB or Atlas)
# 2. SESSION_SECRET (any random string)
# 3. OPENAI_API_KEY (for AI tutoring)
# 4. Dummy values for OAuth (if not testing Google/Microsoft login)
#
# The server will validate these on startup.
